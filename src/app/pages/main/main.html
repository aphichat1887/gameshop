<app-header></app-header>
<div class="container">
    <span *ngIf="status === 'admin'">nice to meet you, Admin</span>
    <h1>‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö {{ username }}</h1>

    <img [src]="profileImage" alt="‡∏£‡∏π‡∏õ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå"
        style="width:150px; height:150px; border-radius:50%; object-fit:cover;" />

    <div class="button-container">
        <button class="btn edit" (click)="goToEditProfile()">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå</button>
        <button class="btn logout" (click)="logout()">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
    </div>

    <hr />

    <!-- ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ -->
    <!-- ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ -->
    <div class="search-container">
        <input type="text" [(ngModel)]="searchText" placeholder="üîç ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏Å‡∏°..." (keyup.enter)="searchGames()" />
        <select [(ngModel)]="selectedCategory" (change)="searchGames()">
            <option value="">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>
            <option *ngFor="let cat of categories" [value]="cat.category_id">{{ cat.category_name }}</option>
        </select>
        <button (click)="searchGames()">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</button>
    </div>


    <h2>üéÆ ‡πÄ‡∏Å‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h2>
    <div class="games-container">
        <div *ngFor="let game of filteredGames" class="game-card" (click)="goToGameDetail(game.game_id)">
            <img [src]="game.game_image" alt="{{ game.game_name }}" class="game-img" />
            <h3>{{ game.game_name }}</h3>
            <p><strong>‡∏£‡∏≤‡∏Ñ‡∏≤:</strong> {{ game.price }} ‡∏ö‡∏≤‡∏ó</p>
            <p><small>‡∏ß‡∏≤‡∏á‡∏Ç‡∏≤‡∏¢‡πÄ‡∏°‡∏∑‡πà‡∏≠: {{ game.release_date | date:'yyyy-MM-dd' }}</small></p>
        </div>

    </div>
</div>